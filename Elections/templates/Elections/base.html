{% load staticfiles %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Δημοτικές εκλογές</title>
     <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" >
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Satisfy">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
     <link href="http://fonts.googleapis.com/css?family=Lobster&subset=latin,latin-ext" rel="stylesheet" type="text/css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <script src="https://code.highcharts.com/highcharts.src.js"></script>

      <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

      <link rel="stylesheet" type="text/css" href ="{% static 'css/elections.css' %}">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
      <link rel="icon" href="/media/logo2.jpg">

     <script>


      $(document).ready(function () {
       $('label.tree-toggler').click(function () {
        $(this).parent().children('ul.tree').toggle(300);
        });

      });
    </script>



  </head>

  <body>

  <nav class="navbar navbar-default">

    <div class="container-fluid">

        <!-- header -->
        <div class="navbar-header">

            <!-- δημιουργία κουμπιού sandwich όπως στο android-->
            <!-- Το data-target λέει ποια περιοχή του μενού θα δείξει το sandwich button όταν εμφανιστεί
                 με το που θα μικρύνει η οθόνη, π.χ σε κινητό -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#topNavBar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{% url 'Elections_list' %}">Δήμος Σερρών</a>

        </div>


            <!-- menu items album, music klp. Εδώ είναι και το Id topNavBar που δείχνει ότι
                 όλο αυτό το div θα εμφανιστεί από το sandwich button-->
        <div class="collapse navbar-collapse" id="topNavBar">


                <form class="navbar-form navbar-left" role="search" method="get" action="{% url 'Elections_list' %}">
                    <div class="form-group" >
                        <input type="text" class="form-control" name="search" id="search" value="">
                    </div>
                    <button type="submit" class="btn btn-default">Search</button>
                </form>

                <ul class="nav navbar-nav navbar-right">

                     <li class="nav-item">
                        <a href="/admin/"><span class="glyphicon glyphicon-off" aria-hidden="true"></span>&nbsp;&nbsp;Login</a>
                    </li>
                </ul>

        </div>

    </div>


</nav>

     <!-- end of header -->

  <div class="container-fluid">
      <div class="row">

              <!-- start of side bar -->
            <nav class="col-sm-4 col-md-3 d-none d-sm-block bg-light sidebar">

            <div style=" overflow-x: hidden; width: 350px; height : 100%;">

                <!--<p id="demo1" type="hidden" ></p> -->
                <div id="div1">

                <form method="get" name="ekloges" action="{% url 'Elections_list' %}">
                     <!--<input id="EklInput" name="eklogesinput" value="9"/><!--name="eklogesinput"  -->
                    <!-- <button type="submit" class="btn btn-primary">Submit</button> -->
                    <select  class="sel1" id="mydir" name="eklogesoption"  onchange="ekloges.submit()">
                        {% for e in all_ekloges %}
                         <option  value="{{  e.eklid }}" {% if selected_ekloges.0.eklid ==  e.eklid  %}selected{%endif%}>{{ e.descr }}</option>
                        {% endfor %}
                    </select>

                    <div class="divmargin"> </div>
                </form>

                <noscript><input type="submit" value="Submit"></noscript>

                </div>

                    <!-- overflow-y: scroll; -->
                <ul class="nav nav-list">
                     <div class="divmargin"> </div>

                    <li><label class="tree-toggler nav-header"><span class="glyphicon glyphicon-stats"></span> ΑΠΟΤΕΛΕΣΜΑΤΑ</label>
                        <ul class="nav nav-list tree">
                            <li><a href="{% url 'pososta_telika' selected_ekloges.0.eklid %} " id="m1">Ποσοστά συνδυασμών (συγκεντρωτικά)</a></li>
                            <li><a href="{% url 'pososta_perifereies' selected_ekloges.0.eklid  %}" id="m2">Ποσοστά συνδυασμών ανά εκλ. περιφέρεια</a></li>
                            <li><a href="{% url 'psifoisimb_perifereies' selected_ekloges.0.eklid  %}" id="m3">Κατάταξη υποψ. δημοτικών συμβούλων</a></li>

                            {% if selected_ekloges.0.eklid == 1  %}
                            <li><a href="{% url 'psifoisimb_koinotites' 1 1 %}" id="m4">Κατάταξη υποψ. συμβούλων κοινοτήτων > 2000 κατοίκων</a></li>
                            <li><a href="{% url 'psifoisimb_koinotites' 1 2 %}" id="m5">Κατάταξη υποψ. συμβούλων κοινοτήτων έως 2000 κατοίκων</a></li>
                            {% else %}
                            <li><a href="{% url 'psifoisimb_koinotites' selected_ekloges.0.eklid 4 %}" id="m6">Κατάταξη υποψ. συμβούλων κοινοτήτων > 300 κατοίκων</a></li>
                            <li><a href="{% url 'psifoisimb_koinotites' selected_ekloges.0.eklid 3 %}" id="m7">Κατάταξη υποψ. συμβούλων κοινοτήτων έως 300 κατοίκων</a></li>

                            {% endif %}

                            <li><a href="{% url 'psifodeltiasind_ken' selected_ekloges.0.eklid%}" id="m8">Ψηφοδέλτια συνδυασμών ανά εκλ. κέντρο</a></li>
                            <li><a href="{% url 'psifoisimb_ken' selected_ekloges.0.eklid%}" id="m9">Ψήφοι υποψηφίων συμβούλων ανά κέντρο</a></li>
                        </ul>
                    </li>

                    <li class="divider"></li>
                    <li><label class="tree-toggler nav-header"><span class="glyphicon glyphicon-wrench"></span> ΠΑΡΑΜΕΤΡΙΚΑ</label>
                        <ul class="nav nav-list tree"  >
                            <li><a href="{% url 'ekloges_list' selected_ekloges.0.eklid  %}">Εκλ. αναμετρήσεις</a></li>
                            <li><a href="{% url 'sistima_list' selected_ekloges.0.eklid  %}">Εκλογικά Συστήματα</a></li>
                            <li><a href="{% url 'edres_list' selected_ekloges.0.eklid  %}" >Περιπτώσεις κατανομής εδρών σε Δήμους</a></li>
                            <li><a href="#">Περιπτώσεις κατανομής εδρών σε Κοινότητες</a></li>
                            <li><a href="{% url 'perifereia_list' selected_ekloges.0.eklid  %}">Εκλογικές Περιφέρειες</a></li>

                            <li><a href="#">Τύποι Κοινοτήτων</a></li>
                            <li><a href="#">Κοινότητες</a></li>
                            <li><a href="{% url 'sindiasmoi_list' selected_ekloges.0.eklid  %}">Συνδυασμοί</a></li>
                            <li><a href="{% url 'eklsind_list' selected_ekloges.0.eklid  %}">Συνδυασμοί list</a></li>
                            <li><a href="#">Σύμβουλοι</a></li>
                            <li><a href="#">Εκλογικά Κέντρα</a></li>
                        </ul>

                    </li>
                </ul>
            </div>

            <!--


                 <p id="demo1" class="hidden" ></p>
-->


            <script>

                $(document).ready(function () {

                  $("#ulEkloges li a").on("click", function () {
                    // Get text from anchor tag
                    var id = $(this).data('pdsa-dropdown-val');
                    $("#EklInput").val(id);
                    // Add text and caret to the Select button
                    var text = $(this).text();
                    $("#selectButton").html(text + '&nbsp;<span class="caret"></span>');
                    // Put text into hidden field from model
                    $("#EklInput").val(id);
                     $('.label3').text(this.innerHTML);

                    });

                  });






            </script>


        </nav>

         <!-- end of side bar -->


         <!-- start of main window  -->

        <main role="main" class="col-sm-8 col-md-9 pt-1">



                <div class="text-center">
                {%  if all_ekloges %}
                     <label class="label3">{{ selected_ekloges.0.descr }}  </label>
                {% else %}
                    <label class="label3"> Δεν βρέθηκαν εγγραφές! </label>
                {% endif %}
                </div>

        {% block content %}  <!--εδώ λέμε ότι θα μπει ο κώδικας της σελίδας που καλεί το base.html-->


        {% endblock %}

        </main>
      </div>    <!-- end of <div class="row"> -->
    </div>    <!-- end of <div class="container-fluid"> -->



  <script>
    $("#livesearch").keyup(function () {
                    var value = this.value.toLowerCase().trim();

                    $("table tr").each(function (index) {
                        if (!index) return;
                        $(this).find("td").each(function () {
                            var id = $(this).text().toLowerCase().trim();
                            var not_found = (id.indexOf(value) == -1);
                            $(this).closest('tr').toggle(!not_found);
                            return not_found;
                        });
                    });
    });
     //script για την φόρμα καταχώρισης των συνδυασμών. Αν δεν ειναι καθολικός ο συνδυασμός, κρύβω το πεδίο ΑΑ
        $('#aa').hide(); // destination field

          $('#id_eidos').on('change', function(){
            var optionSelected = $("option:selected", this);
            var valueSelected = this.value;
            if (valueSelected == 1) {
                $('#id_aa, label[for="#id_aa"]').show()
                $('#id_aa, label[for="#id_aa"]').parent().show()
            } else if (valueSelected == 0) {
                $('#id_aa, label[for="#id_aa"]').hide()
                document.getElementById("id_aa").value = "0";
                $('#id_aa, label[for="#id_aa"]').parent().hide()
            }
            return false;
          });

  </script>




  </body>

  <br>
    <footer class="container-fluid bg-4 text-center">
     <div id="footer-content">
      <p>Τσακιρίδης Γιώργος -  (ΠΜΣ Εφαρμοσμένη Πληροφορική - Διπλωματική εργασία</a>)</p>
    </div>
    </footer>

</html>

